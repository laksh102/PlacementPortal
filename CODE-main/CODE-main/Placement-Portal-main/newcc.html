<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Cards</title>
    <style>
        /* CSS styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f2f2f2;
        }

        .filter-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background-color: #fff;
            padding: 10px;
            border-radius: 5px;
        }

        .filter-bar select, .filter-bar input[type="text"] {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 14px;
            margin-right: 10px;
        }

        .filter-bar select:last-child, .filter-bar input[type="text"] {
            margin-right: 0;
        }

        .filter-bar button {
            padding: 8px 16px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .filter-bar button:hover {
            background-color: #0056b3;
        }

        .company-cards {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
        }

        .company-card {
            width: calc(25% - 10px);
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .company-card:hover {
            transform: translateY(-5px);
        }

        .company-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px 10px 0 0;
        }

        .company-card-content {
            padding: 20px;
        }

        .company-card-content h3 {
            margin: 0;
            font-size: 18px;
        }

        .company-card-content p {
            margin: 5px 0;
            font-size: 14px;
            color: #666;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }

        .pagination button {
            padding: 8px 16px;
            margin: 0 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #fff;
            cursor: pointer;
            font-size: 14px;
        }

        .pagination button:hover {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>

<div class="filter-bar">
    <div>
        <input type="text" id="search" placeholder="Search by Company Name">
        <select id="filter-year">
            <option value="">Filter by Year</option>
            <!-- Options for filtering by year will be added dynamically -->
        </select>
        <select id="filter-month">
            <option value="">Filter by Month</option>
            <!-- Options for filtering by month will be added dynamically -->
        </select>
        <select id="filter-alphabetically">
            <option value="">Filter Alphabetically</option>
            <option value="asc">A-Z</option>
            <option value="desc">Z-A</option>
        </select>
    </div>
    <button onclick="applyFilters()">Apply Filters</button>
</div>

<div class="add-button-container">
    <button class="add-button" onclick="redirectToAddCompanyPage()">Add Company</button>
</div>

<div class="company-cards" id="company-cards">
    <!-- Company cards will be dynamically added here -->
</div>

<div class="pagination">
    <button onclick="previousPage()">Previous</button>
    <button onclick="nextPage()">Next</button>
</div>

<script>
    // Define variables for pagination
    let currentPage = 1;
    const cardsPerPage = 20;

    // Function to fetch and display company cards
    async function fetchCompanyCards() {
        try {
            const response = await fetch('http://localhost:8080/api/companies');
            const companies = await response.json();

            const companyCardsContainer = document.getElementById('company-cards');
            companyCardsContainer.innerHTML = '';

            const startIndex = (currentPage - 1) * cardsPerPage;
            const endIndex = currentPage * cardsPerPage;

            companies.slice(startIndex, endIndex).forEach(company => {
                const companyCard = `
                    <div class="company-card" onclick="redirectToCompanyDetailsPage(${company.id})">
                        <img src="${company.logo}" alt="${company.name} Logo">
                        <div class="company-card-content">
                            <h3>${company.name}</h3>
                            <p>Placement Drive Date: ${company.visitDate}</p>
                            <p>Number of Students Placed: ${company.studentsPlaced}</p>
                            <p>Highest Package: ${company.package}</p>
                        </div>
                    </div>
                `;
                companyCardsContainer.innerHTML += companyCard;
            });
        } catch (error) {
            console.error('Error fetching company cards:', error);
        }
    }

    // Function to redirect to Add Company page
    function redirectToAddCompanyPage() {
        window.location.href = 'add-company-details.html';
    }

    // Function to redirect to Company Details page
    function redirectToCompanyDetailsPage(companyId) {
        window.location.href = `company-details.html?id=${companyId}`;
    }

    // Function to apply filters
    function applyFilters() {
        // Implement filter logic here
        console.log('Filters applied');
    }

    // Function to go to the previous page
    function previousPage() {
        if (currentPage > 1) {
            currentPage--;
            fetchCompanyCards();
        }
    }

    // Function to go to the next page
    function nextPage() {
        // Assuming companies.length contains the total number of companies
        if (currentPage < Math.ceil(companies.length / cardsPerPage)) {
            currentPage++;
            fetchCompanyCards();
        }
    }

    // Fetch and display company cards on page load
    fetchCompanyCards();
</script>

</body>
</html>
